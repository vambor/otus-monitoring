# Домашнее задание - Установка и настройка Prometheus, использование exporters

## Описание
На виртуальной машине с Debian 13 установил CMS WordPress с компонентами
- nginx
- php-fpm
- mariadb(mysql)

Для мониторинга систем установил экспортеры
- Node Exporter для сбора метрик с ОС (порт 9100)
- MySQL Exporter для сбора метрик MariaDB (порт 9104)
- PHP-FPM для сбора метрик PHP-FPM (порт 9253)
- Blackbox Exporter для проверки доступности сайта CMS (порт 9115)

После чего был установлен Prometheus, который каждые 5 секунд собирает метрики с экспортеров (конфиг в prometheus.yml)

# Домашнее задание - хранилище метрик

## Описание
Настроено хранилище метрик с использованием VictoriaMetrics
- Метрики передаются из Prometheus через remote_write
- К метрикам добавляется лейбл site: prod через external_labels
- Срок хранения 14 дней через параметр запуска -retentionPeriod=14d

victoriametrics.conf - файл конфигурации запуска сервиса
prometheus.yml - обновлен под новые параметры

# Домашнее задание - Prometheus, Alertmanager - работа с метриками (PromQL), написание алертов и их ротация

## Описание
Настроен Alertmanager с маршрутизацией по уровню серьёзности
- На данный момент есть два алерта critical и warning. Оба сообщения отправляются в телеграм (но в один канал)
- Сами алёрты привязаны к событиям 1. CMSDown (critical) - срабатывает при недоступности cms 2. HighCPUUsage (warning) - срабатывает при загрузке CPU более чем на 80% в течение одной минуты.

alertmanager.yml - файл конфигурации alertmanager
rules.yml - правила срабатывания алёртов
